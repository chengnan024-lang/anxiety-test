<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>恋爱脑程度测�?| 你恋爱上头了吗？</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, sans-serif; 
            background: linear-gradient(135deg, #FFF5E6 0%, #FFE4CC 50%, #FFF0E5 100%); 
            min-height: 100vh; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            padding: 20px;
            background-attachment: fixed;
        }
        
        .container { 
            background: rgba(255, 255, 255, 0.95); 
            border-radius: 24px; 
            padding: 40px 28px; 
            max-width: 420px; 
            width: 100%; 
            text-align: center; 
            box-shadow: 0 8px 32px rgba(255, 154, 98, 0.15); 
            position: relative;
            backdrop-filter: blur(10px);
        }
        
        h1 { 
            color: #1a1a1a; 
            font-size: 26px; 
            font-weight: 700; 
            margin-bottom: 8px; 
            letter-spacing: -0.5px;
        }
        
        .subtitle { 
            color: #666; 
            font-size: 14px; 
            margin-bottom: 28px; 
            line-height: 1.6; 
        }
        
        .tag { 
            display: inline-block; 
            background: linear-gradient(135deg, #FF9A62 0%, #FFB347 100%); 
            color: white; 
            padding: 8px 20px; 
            border-radius: 20px; 
            font-size: 12px; 
            margin-bottom: 24px;
            font-weight: 500;
            box-shadow: 0 4px 12px rgba(255, 154, 98, 0.3);
        }
        
        .btn { 
            background: white; 
            color: #1a1a1a; 
            border: 2px solid #f0f0f0; 
            padding: 18px 24px; 
            font-size: 15px; 
            border-radius: 16px; 
            cursor: pointer; 
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            width: 100%; 
            margin-bottom: 14px; 
            text-align: left; 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
        }
        
        .btn:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 8px 24px rgba(255, 154, 98, 0.2);
            border-color: #FF9A62;
        }
        
        .btn-right { font-size: 14px; font-weight: 600; color: #FF9A62; }
        .btn-title { font-weight: 600; font-size: 16px; color: #1a1a1a; }
        .btn-desc { font-size: 12px; color: #999; display: block; margin-top: 4px; }
        
        .btn-premium { background: linear-gradient(135deg, #FF9A62 0%, #FFB347 100%); color: white; border: none; }
        .btn-premium:hover { border-color: transparent; }
        .btn-premium .btn-title { color: white; }
        .btn-premium .btn-desc { color: rgba(255,255,255,0.8); }
        .btn-premium .btn-right { color: white; }
        
        .tip { color: #999; font-size: 12px; margin-top: 24px; }
        
        .question { display: none; text-align: left; animation: fadeIn 0.3s ease; }
        .question.active { display: block; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .question h2 { 
            color: #1a1a1a; 
            font-size: 18px; 
            margin-bottom: 28px; 
            line-height: 1.7; 
            font-weight: 500;
        }
        
        .progress { color: #999; font-size: 13px; margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }
        .progress-bar { flex: 1; height: 6px; background: #f0f0f0; border-radius: 3px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #FF9A62, #FFB347); transition: width 0.4s; border-radius: 3px; }
        
        .option { display: block; width: 100%; padding: 16px 20px; margin-bottom: 12px; border: 2px solid #f0f0f0; border-radius: 14px; background: white; font-size: 15px; cursor: pointer; transition: all 0.2s; text-align: left; color: #333; }
        .option:hover { border-color: #FF9A62; background: #FFF8F5; }
        
        .calculating { display: none; text-align: center; padding: 40px 0; }
        .calculating.active { display: block; }
        
        .loading-spinner { width: 40px; height: 40px; border: 3px solid #f0f0f0; border-top-color: #FF9A62; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px; }
        @keyframes spin { to { transform: rotate(360deg); } }
        
        .result { display: none; animation: fadeIn 0.4s ease; }
        .result.active { display: block; }
        
        .result-emoji { font-size: 64px; margin-bottom: 8px; }
        .result-type { font-size: 28px; font-weight: 700; color: #FF9A62; margin-bottom: 8px; }
        .result-desc { font-size: 15px; color: #666; margin-bottom: 24px; line-height: 1.8; padding: 0 8px; }
        
        .score-box { 
            background: linear-gradient(135deg, #FFF5E6 0%, #FFE8D6 100%); 
            border-radius: 16px; 
            padding: 20px; 
            margin-bottom: 24px;
            border: 1px solid #FFE4CC;
        }
        
        .score-title { font-size: 14px; color: #999; margin-bottom: 12px; }
        .score-num { font-size: 48px; font-weight: 700; color: #FF9A62; }
        .score-label { font-size: 14px; color: #FF9A62; font-weight: 500; }
        
        .section { text-align: left; margin-top: 24px; padding-top: 24px; border-top: 1px solid #f5f5f5; }
        .section h3 { font-size: 15px; color: #1a1a1a; margin-bottom: 16px; font-weight: 600; }
        
        .detail-item { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #f8f8f8; font-size: 14px; }
        .detail-label { color: #666; }
        .detail-value { color: #1a1a1a; font-weight: 500; }
        
        .locked { display: none; margin-top: 24px; }
        .locked.show { display: block; }
        
        .pay-btn { background: linear-gradient(135deg, #FF9A62 0%, #FFB347 100%); margin-top: 20px; justify-content: center; color: white; border: none; }
        .pay-btn.show { display: flex; }
        .free-btn { background: #07c160; margin-top: 12px; justify-content: center; color: white; border: none; }
        
        .tip-red { color: #FF9A62; font-size: 12px; margin-top: 20px; padding: 14px; background: #FFF5E6; border-radius: 12px; text-align: left; line-height: 1.6; }
        
        .feature-box { background: linear-gradient(135deg, #FFF5E6 0%, #FFF8F5 100%); border-radius: 16px; padding: 20px; margin: 20px 0; text-align: left; border: 1px solid #FFE4CC; }
        .feature-box h4 { color: #FF9A62; font-size: 15px; margin-bottom: 14px; font-weight: 600; }
        .feature-item { font-size: 13px; color: #666; padding: 8px 0; display: flex; align-items: center; }
        .feature-item::before { content: "�?; color: #FF9A62; margin-right: 10px; font-weight: bold; }
        
        .psycho-section { background: linear-gradient(135deg, #2d2d1a 0%, #3d3520 100%); border-radius: 16px; padding: 24px; margin: 20px 0; text-align: left; }
        .psycho-section h4 { color: #FFD699; font-size: 15px; margin-bottom: 16px; font-weight: 600; }
        .psycho-content { font-size: 13px; color: #d4d4d8; line-height: 1.9; text-align: left; }
        .psycho-content p { margin-bottom: 14px; }
        .highlight { color: #FFD699; font-weight: 600; }
        .term { color: #A78BFA; font-style: italic; }
        
        .wechat-guide { 
            background: linear-gradient(135deg, #07c160 0%, #06ad56 100%); 
            color: white; 
            border: none; 
            margin-top: 12px;
        }
        
        .wechat-qr {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 12px;
            text-align: center;
        }
        .wechat-qr.show { display: block; }
        .wechat-id { 
            font-size: 18px; 
            font-weight: 700; 
            color: #07c160; 
            background: white;
            padding: 12px 24px;
            border-radius: 8px;
            display: inline-block;
            margin-top: 10px;
            cursor: pointer;
        }
        
        .tip-wechat { 
            color: #07c160; 
            font-size: 12px; 
            margin-top: 12px; 
            padding: 10px; 
            background: #e8f5e9; 
            border-radius: 8px; 
        }
        
        .price-tag { background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%); color: #1a1a1a; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 700; }
        
        .level-bar { height: 12px; background: #f0f0f0; border-radius: 6px; overflow: hidden; margin: 8px 0; }
        .level-fill { height: 100%; border-radius: 6px; transition: width 0.5s ease; }
        
        .brain-level { padding: 12px 20px; border-radius: 12px; margin: 12px 0; font-weight: 600; }
    </style>
</head>
<body>
    <!-- 首页 -->
    <div class="container" id="home">
        <span class="tag">小红�?爆款测试</span>
        <h1>恋爱脑程度测�?/h1>
        <p class="subtitle">测一测你有多上头<br>了解自己的恋爱投入程�?/p>
        
        <button class="btn" onclick="start(8)">
            <div>
                <div class="btn-title">快速版</div>
                <span class="btn-desc">8道题 · �?分钟</span>
            </div>
            <span class="btn-right">免费</span>
        </button>
        
        <button class="btn" onclick="start(14)">
            <div>
                <div class="btn-title">标准�?/div>
                <span class="btn-desc">14道题 · �?分钟</span>
            </div>
            <span class="btn-right">免费</span>
        </button>
        
        <button class="btn btn-premium" onclick="start(22)">
            <div>
                <div class="btn-title">
                    深度�?                    <span class="price-tag">热门</span>
                </div>
                <span class="btn-desc">22道题 · 含深度解�?/span>
            </div>
            <span class="btn-right">¥0.9</span>
        </button>
        
        <p class="tip">本测试仅供参考，不构成情感建�?/p>
    </div>

    <!-- 计算�?-->
    <div class="container calculating" id="calculating">
        <div class="loading-spinner"></div>
        <h1>分析�?..</h1>
        <p class="subtitle">正在解析你的恋爱脑指�?/p>
    </div>

    <!-- 答题�?-->
    <div class="container question" id="quiz">
        <div class="progress">
            <span id="progress-text">1/22</span>
            <div class="progress-bar"><div class="progress-fill" id="progress-fill" style="width: 4%"></div></div>
        </div>
        <h2 id="questionText"></h2>
        <div id="options"></div>
    </div>

    <!-- 结果�?-->
    <div class="container result" id="result">
        <span class="tag">测评完成</span>
        
        <div class="result-emoji" id="emoji">🧠</div>
        <div class="result-type" id="typeName">轻度恋爱�?/div>
        <div class="result-desc" id="typeDesc">你恋爱时比较理�?/div>
        
        <div class="score-box">
            <div class="score-title">你的恋爱脑指�?/div>
            <div class="score-num" id="scoreNum">65</div>
            <div class="score-label" id="scoreLabel">�?/div>
            <div class="level-bar"><div class="level-fill" id="levelBar" style="width:65%;background:linear-gradient(90deg,#FF9A62,#FFB347);"></div></div>
        </div>
        
        <div class="section">
            <h3>📊 维度分析</h3>
            <div class="detail-item">
                <span class="detail-label">上头程度</span>
                <span class="detail-value" id="obsessionLevel">-</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">付出程度</span>
                <span class="detail-value" id="devotionLevel">-</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">理性程�?/span>
                <span class="detail-value" id="rationalLevel">-</span>
            </div>
        </div>
        
        <div class="locked" id="locked-section">
            <div class="feature-box">
                <h4>🔒 解锁深度分析</h4>
                <p style="color:#666;font-size:13px;margin-bottom:14px;">¥0.9解锁全部深度内容</p>
                <div class="feature-item">恋爱脑程度解�?/div>
                <div class="feature-item">上头原因分析</div>
                <div class="feature-item">潜在风险提示</div>
                <div class="feature-item">关系平衡建议</div>
                <div class="feature-item">心理学深度解�?/div>
            </div>
        </div>
        

        <!-- 微信引导 - 免费获取 -->
        <button class="btn wechat-guide" id="wechatBtn" onclick="showWechat()" style="display:none;">
            <span style="text-align:center;width:100%;font-weight:600;">💚 添加微信免费获取报告</span>
        </button>

        <div class="wechat-qr" id="wechatSection">
            <p style="color:#666;font-size:14px;margin-bottom:10px;">长按复制微信ID →</p>
            <div class="wechat-id" id="wechatId" onclick="copyWechat()">点击复制微信ID</div>
            <p class="tip-wechat">添加后发送"报告"即可获取<br>24小时内必回复</p>
        </div>
        <button class="btn pay-btn" id="payBtn" onclick="showPay()">
            <span style="text-align:center;width:100%;font-weight:600;">立即支付 ¥0.9</span>
        </button>
        
        <button class="btn free-btn" onclick="share()">
            <span style="text-align:center;width:100%;font-weight:600;">分享给朋友一起测</span>
        </button>
        
        <p class="tip-red">💡 结果仅供参考，不作为情感建�?/p>
    </div>

    <!-- 支付�?-->
    <div class="container" id="paypage" style="display:none;">
        <span class="tag">安全支付</span>
        <h1>确认支付</h1>
        <p class="subtitle">¥0.9 解锁深度�?/p>
        
        <div class="feature-box">
            <div class="detail-item"><span>恋爱脑深度解�?/span><span>�?/span></div>
            <div class="detail-item"><span>上头原因分析</span><span>�?/span></div>
            <div class="detail-item"><span>心理学解�?/span><span>�?/span></div>
        </div>
        
        <button class="btn wechat-pay" onclick="paySuccess()">
            <span style="text-align:center;width:100%;font-weight:600;">微信支付 ¥0.9</span>
        </button>
        
        <button class="btn alipay" style="margin-top:10px;">
            <span style="text-align:center;width:100%;font-weight:600;">支付宝支�?¥0.9</span>
        </button>
        
        <button class="btn" style="margin-top:16px;background:#f5f5f5;color:#666;border:none;" onclick="back()">
            <span style="text-align:center;width:100%;font-weight:600;">返回</span>
        </button>
    </div>

    <!-- 完整报告�?-->
    <div class="container result" id="fullreport" style="display:none;">
        <span class="tag" style="background:linear-gradient(135deg, #07c160 0%, #06ad56 100%);">🎉 支付成功</span>
        
        <div class="result-emoji" id="emoji2">🧠</div>
        <div class="result-type" id="typeName2">轻度恋爱�?/div>
        <div class="result-desc" id="typeDesc2">你恋爱时比较理�?/div>
        
        <div class="score-box">
            <div class="score-title">你的恋爱脑指�?/div>
            <div class="score-num" id="scoreNum2">65</div>
            <div class="score-label">�?/div>
        </div>
        
        <!-- 上头原因 -->
        <div class="psycho-section">
            <h4>🔥 你上头的原因</h4>
            <div class="psycho-content" id="reasonAnalysis"></div>
        </div>
        
        <!-- 风险提示 -->
        <div class="feature-box">
            <h4>⚠️ 潜在风险提示</h4>
            <div id="riskAnalysis" style="font-size:13px;color:#666;line-height:1.8;"></div>
        </div>
        
        <!-- 建议 -->
        <div class="psycho-section">
            <h4>💡 关系平衡建议</h4>
            <div class="psycho-content" id="adviceAnalysis"></div>
        </div>
        
        <!-- 心理�?-->
        <div class="psycho-section">
            <h4>🧠 心理学深度解�?/h4>
            <div class="psycho-content" id="psychoContent"></div>
        </div>
        
        <button class="btn wechat-pay" style="margin-top:20px;" onclick="downloadReport()">
            <span style="text-align:center;width:100%;font-weight:600;">保存报告到相�?/span>
        </button>
        
        <button class="btn" style="margin-top:10px;background:#f5f5f5;color:#333;border:none;" onclick="share()">
            <span style="text-align:center;width:100%;font-weight:600;">分享给朋�?/span>
        </button>
        
        <p class="tip">结果仅供参考，不作为诊断依�?/p>
    </div>

    <script>
        const questions = [
            // 投入程度
            "恋爱后，你每天花多少时间想对方？",
            "你会经常查看对方的社交动态吗�?,
            "对方不回消息时，你会焦虑吗？",
            "你愿意为对方付出多少�?,
            // 理性程�?            "恋爱中你能保持理性吗�?,
            "你会无条件原谅对方吗�?,
            "恋爱影响你的生活/工作吗？",
            // 上头行为
            "你会为了对方放弃机会吗？",
            "你会在社交平台频繁秀恩爱吗？",
            "你会经常问\"你爱我吗\"吗？",
            // 依赖程度
            "分手后你会很难走出来吗？",
            "你恋爱后疏远朋友了吗�?,
            "你经常幻想和对方的未来吗�?,
            // 深入
            "恋爱时你更看重感觉还是合适？",
            "你会被\"对我好\"打动吗？",
            "你愿意闪婚吗�?,
            "恋爱中你最看重什么？",
            "你有过\"恋爱脑\"的时刻吗�?,
            "你认为恋爱需要理性还是感性？",
            "你会被星�?八字匹配影响吗？",
            "你恋爱时会失去自我吗�?,
            "你相信\"命中注定\"吗？"
        ];
        
        const options = [
            ["每小时都在想", "偶尔�?, "很少�?],
            ["经常查看", "偶尔看看", "从不"],
            ["非常焦虑", "有点焦虑", "不会"],
            ["倾尽所�?, "适度付出", "保留自己"],
            ["完全可以", "有时感�?, "完全感�?],
            ["会的", "看情�?, "不会"],
            ["严重影响", "有点影响", "不受影响"],
            ["会的", "看情�?, "不会"],
            ["�?, "偶尔", "不会"],
            ["经常�?, "偶尔", "从不"],
            ["非常�?, "一�?, "很快"],
            ["是的，疏远了", "偶尔", "没有"],
            ["经常幻想", "偶尔", "很少"],
            ["感觉", "合�?, "都重�?],
            ["�?, "看情�?, "不会"],
            ["愿意", "看感�?, "不愿�?],
            ["颜�?, "对我�?, "聊得�?],
            ["有，太上头了", "有过", "没有"],
            ["感�?, "理�?, "平衡"],
            ["�?, "有点", "完全不信"],
            ["�?, "偶尔", "不会"],
            ["相信", "一半一�?, "不相�?]
        ];
        
        // 恋爱脑等�?        const brainLevels = {
           0: { name: "理性王�?, emoji: "🧊", desc: "你恋爱时超级理性！不会被感情冲昏头脑，能很好地平衡爱情和生活�?, color: "#87CEEB" },
           30: { name: "轻度恋爱�?, emoji: "🧠", desc: "你恋爱时比较理性，能保持自我，不会过度沉迷�?, color: "#90EE90" },
           60: { name: "中度恋爱�?, emoji: "💕", desc: "你恋爱时会有些上头，但还能保持基本理性�?, color: "#FFB347" },
           80: { name: "重度恋爱�?, emoji: "💘", desc: "你恋爱时非常上头！眼里只有对方，容易失去自我�?, color: "#FF6B6B" },
           100: { name: "恋爱脑晚�?, emoji: "💔", desc: "你恋爱完全上头！建议适当保持理性，多关注自己的生活�?, color: "#DC143C" }
        };
        
        let current = 0;
        let answers = [];
        let totalQuestions = 22;
        let score = 0;

        function start(count) {
            totalQuestions = count;
            current = 0;
            answers = [];
            score = 0;
            document.getElementById('home').style.display = 'none';
            document.getElementById('quiz').classList.add('active');
            showQuestion();
        }

        function showQuestion() {
            document.getElementById('progress-text').textContent = `${current + 1}/${totalQuestions}`;
            document.getElementById('progress-fill').style.width = `${((current + 1) / totalQuestions) * 100}%`;
            document.getElementById('questionText').textContent = questions[current];
            
            const opts = document.getElementById('options');
            opts.innerHTML = '';
            options[current].forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = 'option';
                btn.textContent = opt;
                btn.onclick = () => select(i);
                opts.appendChild(btn);
            });
        }

        function select(i) {
            answers.push(i);
            // 0=2�?1=1�?2=0�?(越后面的选项越理�?
            score += (2 - i) * (10 / totalQuestions) * 3;
            
            if (current < totalQuestions - 1) {
                current++;
                showQuestion();
            } else {
                showCalculating();
            }
        }

        function showCalculating() {
            document.getElementById('quiz').classList.remove('active');
            document.getElementById('calculating').classList.add('active');
            
            setTimeout(() => {
                document.getElementById('calculating').classList.remove('active');
                showResult();
            }, 1500);
        }

        function showResult() {
            score = Math.round(Math.max(0, Math.min(100, score)));
            
            // 确定等级
            let level = "0";
            if (score >= 80) level = "100";
            else if (score >= 60) level = "80";
            else if (score >= 30) level = "60";
            else if (score >= 10) level = "30";
            
            const result = brainLevels[level];
            
            document.getElementById('emoji').textContent = result.emoji;
            document.getElementById('typeName').textContent = result.name;
            document.getElementById('typeDesc').textContent = result.desc;
            document.getElementById('scoreNum').textContent = score;
            document.getElementById('levelBar').style.width = score + "%";
            document.getElementById('levelBar').style.background = result.color;
            
            // 维度分析
            const obsession = score > 60 ? "�? : (score > 30 ? "�? : "�?);
            const devotion = answers.slice(0,4).reduce((a,b)=>a+(2-b),0) > 4 ? "�? : "�?;
            const rational = score < 40 ? "�? : (score < 70 ? "�? : "�?);
            
            document.getElementById('obsessionLevel').textContent = obsession;
            document.getElementById('devotionLevel').textContent = devotion;
            document.getElementById('rationalLevel').textContent = rational;
            
            if (totalQuestions >= 22) {
                document.getElementById('locked-section').classList.add('show');
                document.getElementById('wechatBtn').style.display = 'flex';
                document.getElementById('payBtn').classList.add('show');
            }
            
            document.getElementById('result').classList.add('active');
        }

        function showPay() {
            document.getElementById('result').classList.remove('active');
            document.getElementById('paypage').style.display = 'block';
        }

        function back() {
            document.getElementById('paypage').style.display = 'none';
            document.getElementById('result').classList.add('active');
        }

        function paySuccess() {
            document.getElementById('paypage').style.display = 'none';
            document.getElementById('fullreport').style.display = 'block';
            
            const score = parseInt(document.getElementById('scoreNum').textContent);
            const type = document.getElementById('typeName').textContent;
            
            document.getElementById('emoji2').textContent = brainLevels[score >= 80 ? "100" : (score >= 60 ? "80" : (score >= 30 ? "60" : (score >= 10 ? "30" : "0")))].emoji;
            document.getElementById('typeName2').textContent = type;
            document.getElementById('typeDesc2').textContent = brainLevels[score >= 80 ? "100" : (score >= 60 ? "80" : (score >= 30 ? "60" : (score >= 10 ? "30" : "0")))].desc;
            document.getElementById('scoreNum2').textContent = score;
            
            generateDeepAnalysis(score, type);
        }

        function generateDeepAnalysis(score, type) {
            // 上头原因
            let reason = "";
            if (score >= 80) {
                reason = "<p>你属�?span class='highlight'>情感驱动�?/span>。你容易被对方的<span class='term'>情绪价�?/span>所吸引，一旦心动就会全身心投入。这种类型的恋爱脑往往源于<span class='highlight'>童年缺乏安全�?/span>，成年后通过恋爱来弥补内心的空洞�?/p>";
            } else if (score >= 50) {
                reason = "<p>你属�?span class='highlight'>理性与感性并�?/span>。你会在恋爱中保持一定理性，但也会被浪漫冲昏头脑。你的恋爱脑主要来自<span class='term'>多巴�?/span>的分泌带来的快感，让你享�?span class='highlight'>心跳</span>的感觉�?/p>";
            } else {
                reason = "<p>你属�?span class='highlight'>理性分析型</span>。你不会被感情冲昏头脑，会用理性眼光看待恋爱。这种特质让你在恋爱�?span class='term'>较少受伤</span>，但也可能因为过于理性�?span class='highlight'>错过真爱</span>�?/p>";
            }
            document.getElementById('reasonAnalysis').innerHTML = reason;
            
            // 风险
            let risk = "";
            if (score >= 80) {
                risk = "⚠️ 风险提示：你容易在恋爱中失去自我，可能忽视家人朋友。建议保持独立社交圈，理性看待感情�?;
            } else if (score >= 50) {
                risk = "⚠️ 风险提示：适度上头是正常的，但要注意不要影响正常工作生活。建议保持理性判断�?;
            } else {
                risk = "�?风险较低：你比较理性，但也要学会在适当时候放松，享受恋爱的心动感觉�?;
            }
            document.getElementById('riskAnalysis').innerHTML = risk;
            
            // 建议
            let advice = "";
            if (score >= 80) {
                advice = "<p>1. <span class='highlight'>建立独立社交�?/span>，不要把全部精力放在恋人身上<br>2. <span class='term'>设置冷静�?/span>，重要决定先�?4小时再处�?br>3. <span class='highlight'>保持兴趣爱好</span>，不要为了恋爱放弃自我成�?br>4. <span class='term'>学会独处</span>，享受单身时的自由时�?/p>";
            } else if (score >= 50) {
                advice = "<p>1. <span class='highlight'>享受恋爱</span>的同时保持基本理�?br>2. <span class='term'>定期反�?/span>自己的感情状�?br>3. <span class='highlight'>保持朋友�?/span>，不要忽视朋�?br>4. <span class='term'>沟通很重要</span>，有想法及时表达</p>";
            } else {
                advice = "<p>1. <span class='highlight'>适当感�?/span>一点，享受心跳的感�?br>2. <span class='term'>不要过于苛刻</span>，给感情一些空�?br>3. <span class='highlight'>相信直觉</span>，有时候跟着感觉�?br>4. <span class='term'>放下防备</span>，勇敢接受爱</p>";
            }
            document.getElementById('adviceAnalysis').innerHTML = advice;
            
            // 心理学深�?            let psycho = "";
            if (score >= 80) {
                psycho = "<p>�?span class='highlight'>精神分析</span>角度，你的恋爱脑源于<span class='term'>早期依恋创伤</span>。童年可能缺乏稳定的<span class='highlight'>情感照顾�?/span>，导致成年后对亲密关系有过度�?span class='term'>情感需�?/span>。这在心理学上称�?span class='highlight'>焦虑型依�?/span>的延伸�?/p><p>你把恋人当作<span class='term'>理想父母</span>的替身，期望从对方身上获�?span class='highlight'>童年缺失的爱</span>。这种模式容易导�?span class='term'>恋爱中的过度依赖</span>，需要在<span class='highlight'>自我成长</span>中疗愈�?/p>";
            } else if (score >= 50) {
                psycho = "<p>�?span class='highlight'>神经生物�?/span>角度，恋爱时大脑会分泌大�?span class='term'>多巴�?/span>�?span class='highlight'>催产�?/span>，让你产生愉悦感和依恋感。你的恋爱脑�?span class='term'>正常的生理反�?/span>，但需要与<span class='highlight'>理性思维</span>平衡�?/p><p>你的依恋模式属于<span class='term'>安全�?/span>�?span class='highlight'>焦虑�?/span>之间，能够享受亲密但保持一定独立性。这�?span class='highlight'>健康的恋爱状�?/span>�?/p>";
            } else {
                psycho = "<p>�?span class='highlight'>认知心理�?/span>角度，你擅长�?span class='term'>理性思维</span>处理情感问题。这可能是一�?span class='highlight'>防御机制</span>——通过理性化�?span class='term'>保护自己</span>不受情感伤害�?/p><p>但过度的理性可能导�?span class='highlight'>情感隔离</span>，无法真正享受亲密关系。建�?span class='term'>适当放下防备</span>，给感情一�?span class='highlight'>自由生长</span>的空间�?/p>";
            }
            
            psycho += "<p style='margin-top:15px;'><span class='highlight'>分析师说�?/span>恋爱脑不是病�?span class='term'>健康的恋�?/span>是感性理性并存。学�?span class='highlight'>自我觉察</span>，在需要感性时感性，需要理性时理性�?/p>";
            
            document.getElementById('psychoContent').innerHTML = psycho;
        }

        function downloadReport() {
            alert('报告已保存！');
        }

        function share() {
            alert('请分享给朋友~');

        // 微信引导相关函数
        let wechatID = "chengnan024"; // TODO: 替换为实际微信号

        function showWechat() {
            document.getElementById("wechatSection").classList.toggle("show");
            const btn = document.getElementById("wechatBtn");
            if (document.getElementById("wechatSection").classList.contains("show")) {
                btn.innerHTML = '<span style=text-align:center;width:100%>💚 收起微信ID</span>';
            } else {
                btn.innerHTML = '<span style=text-align:center;width:100%>💚 添加微信免费获取报告</span>';
            }
        }

        function copyWechat() {
            navigator.clipboard.writeText(wechatID).then(function() {
                alert('微信号 ' + wechatID + ' 已复制！打开微信添加好友');
            }, function() {
                prompt('请手动复制微信号：', wechatID);
            });
        }
        }
    </script>
</body>
</html>
